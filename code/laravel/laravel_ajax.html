<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dipak Portfolio</title>
    <link rel="icon" href="../../public/images/config/web-icon.ico">

    <link rel="stylesheet" href="../../public/css/style.css">
    <link rel="stylesheet" href="../../public/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
    <link rel="stylesheet" href='../../public/font_awesome/css/all.css'>
    
    <script src="../../public/bootstrap/bootstrap.js" ></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script src="../../public/js/main.js"></script>
    <script>
            includeHeaderFooter('header', '../../elements/header3.html');
            includeHeaderFooter('footer', '../../elements/footer3.html');
    </script>
</head>
<body class="theme">
    
    <header id="header"></header> 

    <div class="container">
        <div class="row">
            <h2 class="title">Laravel Installation Step</h1>
        </div>

        <div class="contents">
            <p>Hey,</p>
            <p>If you don't have PHP and Composer installed on your local machine, the following commands will install PHP, Composer, and the Laravel installer on Windows:</p>
            <p>First check composer or php is installed in your system.</p>

            <div class="step">
                Step 1: PHP and Composer check its exist or not
            </div>

            <p>Laravel Crud using Ajax</p>

            <div class="code-box">
                <div class="code-box-head">
                    <h6> php version check</h6>
                    <button class="btn btn-primary copy-btn" onclick="copyCode('code')"><i class="fa-regular fa-copy"></i>Copy</button>
                </div>
                <div class="code-box-body">
<pre id="code">
    serverSide Ajax Script :
    
        $(document).ready(function () {
            $('.datatable').DataTable({
                serverSide: true,
                processing: true,
                ajax: {
                    url: '{{ route("data_tables.server_side") }}'
                },
                columns: [
                    { data: 'name', name: 'name' },
                    { data: 'email', name: 'email' },
                    { data: 'phone', name: 'phone' },
                    { data: 'created_at', name: 'created_at' },
                    { data: 'action', name: 'action', orderable: false, searcheble: false },
                ]
            });
            $('.datatable').on('click', '.delete-user', function () {
                const userId = $(this).data('id');

                if(userId) {
                    if(confirm('are you sure, you want to delete?')) {
                        $.ajax({
                            url: `{{ url('data_tables/delete') }}/${userId}`,
                            method: 'DELETE',
                            data: {
                                _token: '{{ csrf_token() }}',
                            },
                            success:function (response) {
                                if(response.status === 'success') {
                                    table.ajax.reload(null, false);
                                } else {
                                    alert(response.message);
                                }
                            },
                            error:function (error) {
                                alert('somthing want wrong');
                            }
                        });
                    }
                }
            });
        });
    
</pre>
                </div>
            </div>

            <div class="code-box">
                <div class="code-box-head">
                    <h6> Link</h6>
                    <button class="btn btn-primary copy-btn" onclick="copyCode('link')"><i class="fa-regular fa-copy"></i>Copy</button>
                </div>
                <div class="code-box-body">

<pre id="link">
    header script
    < href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    < rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css" />
    

    footer script :

    < src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    < src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    < src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
</pre>
                </div>
            </div>

            <div class="code-box">
                <div class="code-box-head">
                    <h6> UserController</h6>
                    <button class="btn btn-primary copy-btn" onclick="copyCode('code2')"><i class="fa-regular fa-copy"></i>Copy</button>
                </div>
                <div class="code-box-body">
<pre id="code2">
    serverSide Ajax UserController :

    class UserController extends Controller {

    public function clientSide() {
        $users = User::all();
        return view('data_tables.client_side', compact('users'));
    }

    public function serverSide(Request $request) {
        if($request->ajax()) {
            $users = User::query();
            return DataTables::eloquent($users)

            ->addIndexColumn()
            
            ->addColumn('created_at', function($users) {
                return Carbon::parse($users->created_at)->format('d-m-Y');
            })
            ->addColumn('action', function($users) {
                return '
                    <!-- <a href=" '.route("data_tables.edit", $users->id).' " class="btn btn-primary"> Edit </a> 
                    <b data-id="'.$users->id.'" class="btn btn-danger delete-user"> Delete </b> -->
                ';
            })
            ->rawColumns(['action'])
            ->make(true);
        }
        return view('data_tables.server_side');
    }
    /**
        * Display a listing of the resource.
        */
    public function index()
    {
        //
    }

    /**
        * Show the form for creating a new resource.
        */
    public function create()
    {
        //
    }

    /**
        * Store a newly created resource in storage.
        */
    public function store(Request $request)
    {
        //
    }

    /**
        * Display the specified resource.
        */
    public function show(string $id)
    {
        //
    }

    /**
        * Show the form for editing the specified resource.
        */
    public function edit(string $id)
    {
        $users = User::findOrFail($id);
        dd($users->toArray());
        // return view('data_tables.edit', compact('users'));
    }

    /**
        * Update the specified resource in storage.
        */
    public function update(Request $request, string $id)
    {
        //
    }

    /**
        * Remove the specified resource from storage.
        */
    public function destroy(string $id)
    {
        $user = User::findOrFail($id);
        if($user) {
            $user->delete();
            return response()->json([
                'status' => true,
                'message' => 'User Delete Successfully.',
            ]);
        }
        return response()->json([
            'status' => true,
            'message' => 'Unable to Delete User!.',
        ]);
    } 
}   
    
</pre>
                </div>
            </div>

            <p>I hope it can help you...</p>
        </div>
    </div>

    <footer id="footer"></footer>
</body>
</html>